
  <link rel="stylesheet" href="/css/dashboard.css">
  <div class="home-container">
    <!-- Decorative floating icons -->
    <i class="fas fa-language floating-icons float-icon-1"></i>
    <i class="fas fa-brain floating-icons float-icon-2"></i>
    <i class="fas fa-graduation-cap floating-icons float-icon-3"></i>
    
    <div class="dashboard-container">
      <!-- Header -->
      <div class="dashboard-header fade-in">
        <h1>Tableau de Bord</h1>
      </div>
      
      <!-- Welcome Message -->
      <div class="dashboard-welcome fade-in">
        <i class="fas fa-hand-sparkles" style="color: #FFCC70; margin-right: 0.5rem;"></i>
        Bienvenue <span style="font-weight: 700; color: var(--primary-color);">{{user.username}}</span>, voici le résumé de votre progression en vocabulaire.
      </div>
      
      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Stats Card -->
        <div class="dashboard-card fade-in">
          <h2><i class="fas fa-chart-pie" style="color: #C850C0; margin-right: 0.5rem;"></i>Mes Statistiques</h2>
          <div class="stats">
            <div class="stat-item">
              <div class="stat-number">{{stats.totalWords}}</div>
              <div class="stat-label">Mots Totaux</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">{{stats.masteredWords}}</div>
              <div class="stat-label">Mots Maîtrisés</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">{{stats.learningWords}}</div>
              <div class="stat-label">En Apprentissage</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">{{stats.newWords}}</div>
              <div class="stat-label">Nouveaux Mots</div>
            </div>
          </div>
        </div>
        <div class="dashboard-card fade-in">
          <div class="text-center" style="margin-top: 1.5rem;">
            <div class="streak-display">
              <div class="progress-container fade-in">
                <h3><i class="fas fa-fire" style="color: #F59E0B; margin-right: 0.5rem;"></i>Séries d'Apprentissage</h3>
                <div class="progress-bar-container">
                  <div class="progress-bar-fill" data-width="{{stats.progressPercentage}}"></div>
                </div>
                <div class="progress-bar-labels">
                  <span><i class="fas fa-tachometer-alt" style="color: #4158D0; margin-right: 0.25rem;"></i>Progression</span>
                  <span id="progress-percentage"><i class="fas fa-trophy" style="color: #FFCC70; margin-right: 0.25rem;"></i>{{stats.progressPercentage}}%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- User Info Card -->
        <div class="dashboard-card fade-in">
          <h2><i class="fas fa-user-circle" style="color: #4158D0; margin-right: 0.5rem;"></i>Informations Utilisateur</h2>
          {{#if notifications}}
            <span class="notification-badge">{{notifications.length}}</span>
          {{/if}}
          <div class="user-info">
            <div class="info-row">
              <div class="info-label"><i class="fas fa-user-tag" style="color: #4158D0; width: 20px; margin-right: 8px;"></i>Nom d'utilisateur: </div>
              <div class="info-value"> {{user.username}}</div>
            </div>
            <div class="info-row">
              <div class="info-label"><i class="fas fa-envelope" style="color: #C850C0; width: 20px; margin-right: 8px;"></i>Email: </div>
              <div class="info-value"> {{user.email}}</div>
            </div>
            <div class="info-row">
              <div class="info-label"><i class="fas fa-calendar-alt" style="color: #10B981; width: 20px; margin-right: 8px;"></i>Membre depuis: </div>
              <div class="info-value"> {{user.joinDate}}</div>
            </div>
            <div class="info-row">
              <div class="info-label"><i class="fas fa-clock" style="color: #F59E0B; width: 20px; margin-right: 8px;"></i>Dernière connexion: </div>
              <div class="info-value"> {{user.lastLogin}}</div>
            </div>
          </div>
          <div class="text-center" style="margin-top: 1.5rem;">
            <a href="/user/profile" class="dashboard-btn dashboard-btn-primary">
              <i class="fas fa-user-edit"></i> Modifier mon profil
            </a>
          </div>
        </div>
      </div>
      
      <!-- Main Content -->
      <div class="main-content">
        <!-- Action Cards -->
        <div class="dashboard-actions">
          <div class="action-card fade-in" style="border-left: 4px solid #4158D0;">
            <div class="action-card-icon" style="background: linear-gradient(135deg, rgba(65, 88, 208, 0.2), rgba(65, 88, 208, 0.1));">
              <i class="fas fa-book-open"></i>
            </div>
            <div class="action-card-content">
              <h3><i class="fas fa-graduation-cap" style="margin-right: 0.5rem;"></i>Apprendre</h3>
              <p><i class="fas fa-lightbulb" style="color: #FFCC70; margin-right: 0.25rem;"></i>Réviser votre vocabulaire avec des cartes mémoire personnalisées.</p>
              <a href="/monVocabs/learn" class="dashboard-btn dashboard-btn-primary">
                <i class="fas fa-play-circle"> </i>  Commencer l'apprentissage
              </a>
            </div>
          </div>
          
          <div class="action-card fade-in" style="border-left: 4px solid #C850C0;">
            <div class="action-card-icon" style="background: linear-gradient(135deg, rgba(200, 80, 192, 0.2), rgba(200, 80, 192, 0.1));">
              <i class="fas fa-plus-circle"></i>
            </div>
            <div class="action-card-content">
              <h3><i class="fas fa-magic" style="margin-right: 0.5rem;"></i>Vocabulaire</h3>
              <p><i class="fas fa-feather-alt" style="color: #C850C0; margin-right: 0.25rem;"></i>Enrichissez votre base de connaissances avec de nouveaux mots.</p>
              <a href="/monVocabs" class="dashboard-btn dashboard-btn-primary">
                <i class="fas fa-plus"> </i> Vocabulaire
              </a>
            </div>
          </div>
          
          <div class="action-card fade-in" style="border-left: 4px solid #F59E0B;">
            <div class="action-card-icon" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1));">
              <i class="fas fa-gamepad"></i>
            </div>
            <div class="action-card-content">
              <h3><i class="fas fa-dice" style="margin-right: 0.5rem;"></i>Jouer</h3>
              <p><i class="fas fa-puzzle-piece" style="color: #F59E0B; margin-right: 0.25rem;"></i>Apprenez tout en vous amusant avec nos jeux éducatifs.</p>
              <a href="/games" class="dashboard-btn dashboard-btn-primary">
                <i class="fas fa-running"> </i> Explorer les jeux
              </a>
            </div>
          </div>
        </div>
        
        <!-- Recent Activity -->
        <div class="recent-activity fade-in">
          <h3><i class="fas fa-history" style="color: #0EA5E9; margin-right: 0.5rem;"></i>Activité Récente</h3>
          {{#if activities.length}}
            <ul class="activity-list">
              {{#each activities}}
                <li class="activity-item">
                  <div class="activity-icon {{this.iconClass}}">
                    <i class="fas {{this.icon}}"></i>
                  </div>
                  <div class="activity-content">
                    <div class="activity-title">{{this.title}}</div>
                    <div class="activity-time"><i class="far fa-clock" style="margin-right: 0.25rem;"></i>{{this.time}}</div>
                  </div>
                </li>
              {{/each}}
            </ul>
          {{else}}
            <div class="no-activity">
              <p><i class="fas fa-info-circle" style="color: #4158D0; margin-right: 0.5rem;"></i>Aucune activité récente. Commencez à explorer l'application!</p>
            </div>
          {{/if}}
        </div>
      </div>
      
      <!-- Footer -->
      <div class="dashboard-footer fade-in">
        <a href="/" class="dashboard-btn dashboard-btn-primary">
          <i class="fas fa-home"></i> Retour à l'accueil
        </a>
        <span style="display: inline-block; margin: 0 10px; color: var(--text-secondary);"><i class="fas fa-heart" style="color: #EF4444;"></i></span>
        <a href="/feedback" class="dashboard-btn dashboard-btn-primary">
          <i class="fas fa-comment-dots"></i> Feedback
        </a>
      </div>
    </div>
    
    <!-- Hidden Mouse tracker -->
    <div class="mouse-tracker" id="mouse-tracker"></div>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Initialize progress bar
        initProgressBar();
        
        // Animate statistics
        animateStats();
        
        // Initialize streak display
        initStreakDisplay();
        
        // Initialize action cards
        initActionCards();
        
        // Initialize activity items
        initActivityItems();
      });
      
      function animateStats() {
        const statElements = document.querySelectorAll('.stat-number');
        
        statElements.forEach(element => {
          const target = parseInt(element.textContent) || 0;
          element.textContent = '0';
          
          let current = 0;
          const duration = 1500; // 1.5 seconds
          const increment = target / (duration / 16); // 60fps
          
          const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
              element.textContent = target;
              clearInterval(timer);
            } else {
              element.textContent = Math.floor(current);
            }
          }, 16);
        });
      }
      
      function initStreakDisplay() {
        const streakDays = document.querySelectorAll('.streak-day');
        
        streakDays.forEach((day, index) => {
          setTimeout(() => {
            day.style.opacity = '1';
            day.style.transform = 'scale(1)';
          }, index * 100);
        });
      }
      
      function initProgressBar() {
        setTimeout(() => {
          const progressBar = document.querySelector('.progress-bar-fill');
          const width = progressBar.getAttribute('data-width') || 0;
          
          progressBar.style.width = `${width}%`;
        }, 500);
      }
      
      function initActionCards() {
        const actionCards = document.querySelectorAll('.action-card');
        
        actionCards.forEach(card => {
          card.addEventListener('mouseenter', () => {
            card.classList.add('hover-effect');
          });
          
          card.addEventListener('mouseleave', () => {
            card.classList.remove('hover-effect');
          });
          
          // Click effect
          card.addEventListener('click', (e) => {
            // Don't trigger the effect if clicking on the button
            if (e.target.classList.contains('dashboard-btn') || e.target.tagName === 'A') return;
            
            const button = card.querySelector('.dashboard-btn');
            if (button) {
              // Add pulse effect to button
              button.classList.add('pulse-animation');
              
              // Redirect after a short delay to see the animation
              setTimeout(() => {
                window.location.href = button.getAttribute('href');
              }, 300);
            }
          });
        });
      }
      
      function initActivityItems() {
        const activityItems = document.querySelectorAll('.activity-item');
        
        activityItems.forEach((item, index) => {
          setTimeout(() => {
            item.style.opacity = '1';
            item.style.transform = 'translateX(0)';
          }, index * 150);
        });
      }
    </script>
  </div>
