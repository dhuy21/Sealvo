<link rel="stylesheet" href="/css/games/speedVocab.css">
<div class="game-container" id="speed-vocab" data-high-score="{{highScore}}">
    <h1>{{gameTitle}}</h1>
    
    {{#if errorMessage}}
        <div class="error-message">
            <i class="fas fa-exclamation-circle"></i>
            <p>{{errorMessage}}</p>
        </div>
    {{else}}
        <p class="game-description">{{gameDescription}}</p>
        
        <!-- Écran de pré-jeu -->
        <div class="screen pre-game-screen active">
            <div class="difficulty-selector">
                <h3>Choisissez une difficulté</h3>
                <div class="difficulty-btn-group">
                    <button class="difficulty-btn active" data-difficulty="easy">Facile</button>
                    <button class="difficulty-btn" data-difficulty="medium">Moyen</button>
                    <button class="difficulty-btn" data-difficulty="hard">Difficile</button>
                </div>
            </div>
            
            <div class="difficulty-info">
                <ul>
                    <li><strong>Facile:</strong> Mots courts (5 lettres ou moins)</li>
                    <li><strong>Moyen:</strong> Mots de longueur moyenne (6-8 lettres)</li>
                    <li><strong>Difficile:</strong> Mots longs (9 lettres ou plus)</li>
                </ul>
            </div>
            
            <button id="start-game" class="start-btn">
                <i class="fas fa-play"></i> Commencer
            </button>
        </div>
        
        <!-- Écran de jeu actif -->
        <div class="screen active-game-screen">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">Score</div>
                    <div id="score" class="stat-value">0</div>
                </div>
                
                <div class="stat">
                    <div class="stat-label">Temps</div>
                    <div id="timer" class="stat-value">150</div>
                </div>
                
                <div class="stat">
                    <div class="stat-label">Série</div>
                    <div id="streak" class="stat-value">0</div>
                </div>
            </div>
            
            <div class="word-container">
                <div id="word-display">Préparez-vous...</div>
                <div id="meaning-display"></div>
            </div>
            
            <div class="input-container">
                <input type="text" id="word-input" placeholder="Tapez le mot ici" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
                <div class="typing-tip">Tapez le mot exactement comme il apparaît</div>
            </div>
        </div>
        
        <!-- Écran post-jeu -->
        <div class="screen post-game-screen">
            <h2>Partie terminée !</h2>
            <div class="final-score">
                <span id="final-score">0</span>
            </div>
            <p id="high-score-message" class="high-score-message"></p>
            
            <div class="game-stats-grid">
                <div class="stat-card">
                    <h3>Mots corrects</h3>
                    <p id="correct-words">0</p>
                </div>
                
                <div class="stat-card">
                    <h3>Précision</h3>
                    <p id="accuracy">0%</p>
                </div>
                
                <div class="stat-card">
                    <h3>Meilleure série</h3>
                    <p id="best-streak">0</p>
                </div>
                
                <div class="stat-card">
                    <h3>Mots par minute</h3>
                    <p id="wpm">0</p>
                </div>
            </div>
            
            <button id="play-again" class="play-again-btn">
                <i class="fas fa-redo"></i> Rejouer
            </button>
        </div>
        
        <!-- Leaderboard -->
        <div class="leaderboard">
            <h3>Meilleurs scores</h3>
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rang</th>
                        <th>Joueur</th>
                        <th>Score</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each leaderboard}}
                    <tr>
                        <td>{{inc @index}}</td>
                        <td>{{this.username}}</td>
                        <td>{{this.score}}</td>
                        <td>{{formatDate this.created_at}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    {{/if}}
</div>

<link rel="stylesheet" href="/css/games/speedVocab.css">
<script src="/js/games/speedVocab.js"></script>
