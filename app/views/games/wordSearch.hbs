<link rel="stylesheet" href="/css/games/wordSearch.css">
<div class="game-container">
    <div class="game-header">
        <h1>{{gameTitle}}</h1>
        <p class="game-description">{{gameDescription}}</p>
    </div>

    <!-- Écran de pré-jeu -->
    <div class="game-screen" id="game-screen">
        <div class="game-stats">
            <div class="stat-box">
                <span class="stat-label">Votre meilleur score</span>
                <span class="stat-value">{{#if highScore}}{{highScore.score}}{{else}}0{{/if}}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Mots disponibles</span>
                <span class="stat-value">{{wordCount}}</span>
            </div>
        </div>
        
        <div class="screen pre-game-screen active">
            {{#if errorMessage}}
                <div class="error-message">
                    <p>{{errorMessage}}</p>
                    <a href="/monVocabs/add" class="btn add-words-btn">Ajouter des mots</a>
                </div>
            {{else}}
            <div class="game-instructions">
                    <h3><i class="fas fa-bolt" style="color: #e9e919;"></i> Règles du jeu</h3>
                    <ul class="rules-list">
                        <li>Cliquez et faites glisser pour sélectionner les lettres qui forment un mot.</li>
                        <li>Lorsque vous trouvez un mot, il sera marqué dans la liste de droite.</li>
                        <li>Trouvez tous les mots avant la fin du temps pour maximiser votre score !</li>
                    </ul>
            </div>

            <div class="difficulty-selector">
                        <h3>Choisissez la difficulté</h3>
                        <div class="difficulty-options">
                            <button class="difficulty-btn active" data-difficulty="easy">
                                <i class="fas fa-star"></i>
                                <span>Facile</span>
                                <small>4 options</small>
                            </button>
                            <button class="difficulty-btn" data-difficulty="medium">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <span>Moyen</span>
                                <small>6 options</small>
                            </button>
                            <button class="difficulty-btn" data-difficulty="hard">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <span>Difficile</span>
                                <small>8 options</small>
                            </button>
                        </div>
                        <button id="start-game" class="start-btn">Commencer le jeu</button>
            </div>
            {{/if}}
        </div>

        <!-- Écran de jeu actif -->
        <div class="screen active-game-screen">
            <button id="show-hint" class="hint-btn">Afficher un indice</button>
            <div class="game-board">
                <div class="word-search-grid" id="word-search-grid">
                    <!-- La grille sera générée dynamiquement en JavaScript -->
                </div>
            </div>

            <div class="game-info-panel">
                <div class="game-status">
                    <div class="status-item">
                        <span>Score:</span>
                        <span id="score">0</span>
                    </div>
                    <div class="status-item">
                        <span>Temps:</span>
                        <span id="timer">600</span>s
                    </div>
                    <div class="status-item">
                        <span>Mots trouvés:</span>
                        <span id="words-found">0</span>/<span id="total-words">0</span>
                    </div>
                </div>
                
                <div class="word-list-container">
                    <h3 class="word-list-title">Mots à trouver</h3>
                    <ul class="word-list" id="word-list">
                        <!-- La liste de mots sera générée dynamiquement en JavaScript -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="game-footer">
        <a href="/games" class="btn back-btn">
            <i class="fas fa-arrow-left"></i> Retour aux jeux
        </a>
        <a href="/monVocabs/learn" class="btn learn-btn">
            <i class="fas fa-book"></i> Apprendre
        </a>
        <a href="/games/wordScramble" class="btn next-btn">
            <i class="fas fa-arrow-right"></i> Jeu suivant
        </a>
    </div>
</div>

<script src="/js/games/wordSearch.js"></script>
