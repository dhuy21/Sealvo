 <link rel="stylesheet" href="/css/games/phraseCompletion.css">
<div class="game-container" >
    <div class="game-header">
        <h1>{{gameTitle}}</h1>
        <p class="game-description">{{gameDescription}}</p>
    </div>
    
    {{#if errorMessage}}
        <div class="error-box">
            <i class="fas fa-exclamation-triangle"></i>
            <p>{{errorMessage}}</p>
            <a href="/monVocabs/add" class="btn add-words-btn">Ajouter des mots</a>
        </div>
    {{else}}
    
        <div class="game-stats">
            <div class="stat-box">
                <span class="stat-label">Votre meilleur score</span>
                <span class="stat-value">{{#if highScore}}{{highScore.score}}{{else}}0{{/if}}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Mots disponibles</span>
                <span class="stat-value">{{wordCount}}</span>
            </div>
        </div>
        
        <!-- Écran de pré-jeu -->
        <div class="screen pre-game-screen active">
                <h2><i class="fas fa-bolt" style="color: #e9e919;"></i> Règles du jeu</h2>
                <ul class="rules-list">
                    <li>Choisissez la bonne définition pour chaque mot</li>
                    <li>Obtenez 10 points pour chaque bonne réponse</li>
                    <li>Perdez 5 points pour chaque réponse erronée</li>
                    <li>Répondez à 10 questions pour terminer le quiz</li>
                </ul>
                
            
            <button id="start-game" class="start-btn">
                <i class="fas fa-play"></i> Commencer
            </button>
        </div>
        
        <!-- Écran de jeu actif -->
        <div class="screen active-game-screen">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">Score</div>
                    <div id="score" class="stat-value">0</div>
                </div>
                
                <div class="stat">
                    <div class="stat-label">Questions</div>
                    <div id="question-count" class="stat-value">0/10</div>
                </div>
                
                <div class="stat">
                    <div class="stat-label">Temps</div>
                    <div id="timer" class="stat-value">300</div>
                </div>
            </div>
            
            <div class="phrase-container">
                <p id="phrase-display" class="phrase-text">Chargement de votre phrase...</p>
                <div class="input-container">
                    <input type="text" id="word-input" placeholder="Tapez le mot manquant ici" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
                    <div class="button-group">
                    <button id="submit-answer" class="submit-btn">Valider</button>
                    <button id="next-phrase-btn" class="next-btn" disabled>Suivant</button>
                    </div>
                </div>
                <p id="word-meaning" class="word-meaning"></p>
                
                <!-- Affichage des indices en fonction de la difficulté -->
                <div id="hint-container" class="hint-container">
                    <p id="hint-text" class="hint-text"></p>
                </div>
            </div>
            
            <div class="feedback-container">
                <div id="feedback-message" class="feedback-message"></div>
            </div>
        </div>
        
        <!-- Écran post-jeu -->
        <div class="screen post-game-screen">
            <h2>Partie terminée !</h2>
            <div class="final-score">
                <span id="final-score">0</span>
            </div>
            <p id="high-score-message" class="high-score-message"></p>
            
            <div class="game-stats-grid">
                <div class="stat-card">
                    <h3>Réponses correctes</h3>
                    <p id="correct-answers">0</p>
                </div>
                
                <div class="stat-card">
                    <h3>Précision</h3>
                    <p id="accuracy">0%</p>
                </div>
                
                <div class="stat-card">
                    <h3>Meilleure série</h3>
                    <p id="best-streak">0</p>
                </div>
                
                <div class="stat-card">
                    <h3>Temps moyen</h3>
                    <p id="avg-time">0s</p>
                </div>
            </div>
            
            <button id="play-again" class="play-again-btn">
                <i class="fas fa-redo"></i> Rejouer
            </button>
        </div>
    {{/if}}

    <div class="game-footer">
        <a href="/games" class="btn back-btn">
            <i class="fas fa-arrow-left"></i> Retour aux jeux
        </a>
        <a href="/monVocabs/learn" class="btn learn-btn">
            <i class="fas fa-book"></i> Apprendre
        </a>
        <a href="/games/wordSearch" class="btn next-btn">
            <i class="fas fa-arrow-right"></i> Jeu suivant
        </a>
    </div>
</div>
