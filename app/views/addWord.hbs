
<link rel="stylesheet" href="/css/addWord.css">
<div class="vocabulary-container">
  <h1>Ajouter un nouveau mot</h1>

  <div class="import-section">
    <form action="/monVocabs/add/import?package={{package_id}}" method="POST" enctype="multipart/form-data" class="import-form">
      <div class="file-upload-container">
        <input type="file" id="vocab-file" name="file" accept=".xlsx,.xls,.csv,.pdf" class="file-input">
        <label for="vocab-file" class="file-label">
          <span class="file-icon" id="file-icon">üìÑ</span>
          <span class="file-text" id="file-text">Choisir un fichier</span>
          <div class="loader" id="loader" style="display: none;">
            <div class="book-wrapper">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="white"
                viewBox="0 0 126 75"
                class="book"
              >
                <rect
                  stroke-width="5"
                  stroke="#e05452"
                  rx="7.5"
                  height="70"
                  width="121"
                  y="2.5"
                  x="2.5"
                ></rect>
                <line
                  stroke-width="5"
                  stroke="#e05452"
                  y2="75"
                  x2="63.5"
                  x1="63.5"
                ></line>
                <path
                  stroke-linecap="round"
                  stroke-width="4"
                  stroke="#c18949"
                  d="M25 20H50"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-width="4"
                  stroke="#c18949"
                  d="M101 20H76"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-width="4"
                  stroke="#c18949"
                  d="M16 30L50 30"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-width="4"
                  stroke="#c18949"
                  d="M110 30L76 30"
                ></path>
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="#ffffff74"
                viewBox="0 0 65 75"
                class="book-page"
              >
                <path
                  stroke-linecap="round"
                  stroke-width="4"
                  stroke="#c18949"
                  d="M40 20H15"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-width="4"
                  stroke="#c18949"
                  d="M49 30L15 30"
                ></path>
                <path
                  stroke-width="5"
                  stroke="#e05452"
                  d="M2.5 2.5H55C59.1421 2.5 62.5 5.85786 62.5 10V65C62.5 69.1421 59.1421 72.5 55 72.5H2.5V2.5Z"
                ></path>
              </svg>
            </div>
        </div>
        </label>
        <span class="selected-file-name">Aucun fichier s√©lectionn√©</span>
      </div>
      <button type="submit" class="btn btn-primary import-btn" id="import-btn">Importer du vocabulaire</button>
    </form>
    
    <div class="format-info">
      <p><strong>Format requis pour Excel:</strong> Les colonnes doivent √™tre dans l'ordre: Mot, Langue, Sujet, Type, Prononciation, Signification, Exemple, Synonymes, Antonymes, Grammaire, Niveau</p>
      <p><a href="/data/example-vocab.xlsx" download class="example-link">T√©l√©charger un fichier XLSX d'exemple</a></p>
      <details class="import-help">
        <summary>Aide pour l'importation</summary>
        <div class="help-content">
          <p>Pour que l'importation fonctionne correctement:</p>
          <ol>
            <li>Cr√©ez un fichier Excel avec les colonnes dans le bon ordre</li>
            <li>Assurez-vous que chaque ligne contient au moins: Mot, Sujet, Langue, Type, Signification</li>
            <li>Pour le type, utilisez uniquement: noun, verb, adjective, adverb, ph.v, idiom, collocation</li>
            <li>Pour le niveau, utilisez <strong>uniquement les chiffres</strong> x, 0, 1, 2 ou v (pas de texte comme "Niveau 1")</li>
            <li>Limitez la taille du fichier √† moins de 5 Mo</li>
          </ol>
          <p>Si vous rencontrez des erreurs, v√©rifiez ces points et r√©essayez.</p>
        </div>
      </details>
    </div>
  </div>

  <div class="separator">
    <span>OU</span>
  </div>


  {{#if error}}
  <div class="alert alert-error">
    {{error}}
  </div>
  {{/if}}
  
  {{#if success}}
  <div class="alert alert-success">
    {{success}}
  </div>
  {{/if}}
  
    <!-- Formulaire pour ajouter plusieurs mots -->
    <form action="/monVocabs/add?package={{package_id}}" method="POST" class="word-form multiple-words-form">
      <input type="hidden" name="isMultipleWords" value="true">

      <div class="table-responsive">
        <table class="multi-word-table">
          <thead>
            <tr>
              <th>Mot</th>
              <th>Langue</th>
              <th>Sujet</th>
              <th>Type</th>
              <th>Prononciation</th>
              <th>Signification*</th>
              <th>Exemple*</th>
              <th>Synonymes</th>
              <th>Antonymes</th>
              <th>Grammaire</th>
              <th>Niveau*</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="word-rows">
            <tr class="word-row">
              <td><input type="text" name="words[]" required placeholder="Mot" class="form-control"></td>
              <td><input type="text" name="language_codes[]" required placeholder="Langue" class="form-control"></td>
              <td><input type="text" name="subjects[]" required placeholder="Sujet" class="form-control"></td>
              <td>
                <select name="types[]" required class="form-control">
                  <option value="" disabled selected>Type</option>
                  <option value="noun">Nom</option>
                  <option value="verb">Verbe</option>
                  <option value="adjective">Adjectif</option>
                  <option value="adverb">Adverbe</option>
                  <option value="ph.v">Ph.V</option>
                  <option value="idiom">Idiom</option>
                  <option value="collocation">Colloc</option>
                </select>
              </td>
              <td><input type="text" name="pronunciations[]" placeholder="Prononciation" class="form-control"></td>
              <td><input type="text" name="meanings[]" required placeholder="Signification" class="form-control"></td>
              <td><input type="text" name="examples[]" required placeholder="Exemple" class="form-control"></td>
              <td><input type="text" name="synonyms[]" placeholder="Synonymes" class="form-control"></td>
              <td><input type="text" name="antonyms[]" placeholder="Antonymes" class="form-control"></td>
              <td><input type="text" name="grammars[]" placeholder="Grammaire" class="form-control"></td>
              <td>
                <select name="levels[]" required class="form-control">
                  <option value="x">Niveau x</option>
                  <option value="0">Niveau 0</option>
                  <option value="1">Niveau 1</option>
                  <option value="2">Niveau 2</option>
                  <option value="v">Niveau v</option>
                </select>
              </td>
              <td>
                <button type="button" class="btn btn-danger remove-row"><i class="fas fa-trash"></i></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="multiple-form-actions">
        <button type="button" id="add-row" class="btn btn-secondary">
          <i class="fas fa-plus"></i> Ajouter une ligne
        </button>
        <button type="submit" class="btn btn-primary">
          <span><i class="fas fa-save"></i>         Enregistrer tous les mots</span>
        </button>
      </div>
    </form>
  
  <div class="form-actions">
    <a href="/monVocabs?package={{package_id}}" class="btn btn-tertiary">Annuler</a>
  </div>
</div>

<script src="/js/addWord.js" nonce="{{nonce}}"></script>

