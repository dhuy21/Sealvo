<link rel="stylesheet" href="/css/styleVocabs.css">
<div class="vocabulary-container">
  <h1>{{title}}</h1>
    
  {{#if error}}
  <div class="alert alert-error">
    {{error}}
  </div>
  {{/if}}
    
  {{#if success}}
  <div class="alert alert-success">
    {{success}}
  </div>
  {{/if}}
  
  
  
  
  <div class="action-container">
    <a href="/monVocabs/add" class="add-word-btn">
      <i class="fas fa-plus"></i> Ajouter un nouveau mot
    </a>
    
    <a href="/monVocabs/learn" class="learn-btn">
      <i class="fas fa-book-open"></i> Apprendre
    </a>
    
    <form action="/monVocabs/deleteAll" method="POST" onsubmit="return confirm('ATTENTION: Cette action supprimera TOUS vos mots de vocabulaire. Cette action est irréversible. Êtes-vous vraiment sûr de vouloir continuer?');">
      <button type="submit" class="btn btn-danger"><i class="fas fa-trash"></i> Supprimer tous les mots</button>
    </form>
  </div>

  <!-- Search Form -->
  <div class="search-container">
    <div class="search-form">
      <div class="input-group">
        <input 
          type="text" 
          id="search-input"
          placeholder="Tapez pour rechercher un mot..."
          class="search-input"
        >
        <button type="button" id="search-btn" class="search-btn">
          <i class="fas fa-search"></i>
        </button>
        <button type="button" id="clear-search-btn" class="clear-search-btn" style="display: none;">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
  </div>
  
  <div id="search-results-info" class="search-results-info" style="display: none;">
    <p><span id="search-count">0</span> résultat(s) pour <strong id="search-term-display"></strong></p>
  </div>
  
  {{#if hasWords}}
    {{#each wordsByLevel as |levelWords level|}}
    <div class="level-container" data-level="{{level}}">
      <div class="level-header">
        <span>Niveau {{level}}</span>
        <span class="level-badge">{{levelWords.length}} mot(s)</span>
      </div>
      <table class="words-table">
        <thead>
          <tr>
            <th width="35%">Mot</th>
            <th width="15%">Type</th>
            <th width="15%">Meaning</th>
            <th width="35%">Prononciation</th>
            <th width="15%">Synonymes</th>
            <th width="15%">Antonymes</th>
            <th width="15%">Exemple</th>
            <th width="15%">Grammaire</th>
            <th width="15%">Actions</th>
          </tr>
        </thead>
        <tbody>
          {{#each levelWords}}
          <tr>
            <td>{{word}}</td>
            <td>{{type}}</td> 
            <td>{{meaning}}</td>
            <td>{{pronunciation}}</td>
            <td>{{synonyms}}</td>
            <td>{{antonyms}}</td>
            <td>{{example}}</td>
            <td>{{grammar}}</td>
            <td>
              <div class="action-buttons">
                <form action="/monVocabs/edit/{{word_id}}" method="POST" class="edit-form" onsubmit="return false;">
                  <button type="submit" class="edit-btn" title="Modifier" data-id="{{word_id}}">
                    <i class="fas fa-edit"></i>
                  </button>
                </form>

                <form action="/monVocabs/delete/{{word_id}}" method="POST" class="delete-form" onsubmit="return false;">
                  <button type="submit" class="delete-btn" title="Supprimer" data-id="{{word_id}}">
                    <i class="fas fa-trash"></i>
                  </button>
                </form>
              </div>
            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    {{/each}}
  {{else}}
    <div class="no-words">
      <i class="fas fa-book"></i>
      <h3>Aucun mot dans votre vocabulaire</h3>
      <p>Commencez à ajouter des mots pour enrichir votre vocabulaire.</p>
      <a href="/monVocabs/add" class="btn">Ajouter votre premier mot</a>
    </div>
  {{/if}}
    
  <div class="home-cta" style="margin-top: 40px;">
    <a href="/" class="btn">Retour à l'accueil</a>
  </div>
</div>
<script src="/js/vocabs.js"></script>
